import { useScrollPosition } from 'hooks/useScrollPosition'
import { useRouter } from 'next/dist/client/router'
import React, { useRef, useState } from 'react'
import NextLink from 'next/link'
import styled from 'styled-components'
import { lighten } from 'polished'
import dynamic from 'next/dynamic'

const ColorSwitcher = dynamic(() => import('./ColorSwitcher'), { ssr: false })

export default function Navbar(props) {
  const router = useRouter()
  const [scrollingDirection, setScrollingDirection] = useState('none')

  let lastScrollY = useRef(0)
  const lastRoute = useRef()
  const stepSize = useRef(50)

  useScrollPosition(scrollPositionCallback, [router.asPath], false, false, 50)

  function scrollPositionCallback({ currPos }) {
    const routerPath = router.asPath
    const hasRouteChanged = routerPath !== lastRoute.current

    if (hasRouteChanged) {
      lastRoute.current = routerPath
      setScrollingDirection('none')
      return
    }

    const currentScrollY = currPos.y
    const isScrollingUp = currentScrollY > lastScrollY.current
    const scrollDifference = Math.abs(lastScrollY.current - currentScrollY)
    const hasScrolledWholeStep = scrollDifference >= stepSize.current
    const isInNonCollapsibleArea = lastScrollY.current > -200

    if (isInNonCollapsibleArea) {
      setScrollingDirection('none')
      lastScrollY.current = currentScrollY
      return
    }

    if (!hasScrolledWholeStep) {
      lastScrollY.current = currentScrollY
      return
    }

    setScrollingDirection(isScrollingUp ? 'up' : 'down')
    lastScrollY.current = currentScrollY
  }

  const isNavbarHidden = scrollingDirection === 'down'

  return (
    <Container isNavbarHidden={isNavbarHidden}>
      <Content>
        <NextLink href="/">
          <Logo version="1.1" xmlns="http://www.w3.org/2000/svg">
            <path
              fill="currentColor"
              d="M15.8681640625,44.7021484375q-0.0341796875-0.4169921875,0.0546875-0.724609375t0.35546875-0.505859375t0.8544921875-0.1982421875l2.201171875,0q0.451171875,0,1.1826171875,0.0478515625t1.572265625,0.1435546875t1.6748046875,0.2939453125t1.5244140625,0.4921875t1.12109375,0.724609375t0.4306640625,1.0185546875q0,0.833984375-0.4853515625,1.5654296875t-1.216796875,1.3193359375t-1.544921875,1.0458984375t-1.4560546875,0.8271484375q2.54296875,0.560546875,3.978515625,2.32421875t1.435546875,4.40234375q0,1.39453125-0.533203125,2.7548828125t-1.4560546875,2.4541015625t-2.1875,1.763671875t-2.7138671875,0.669921875q-0.19140625,0-0.4306640625-0.041015625t-0.4375-0.1298828125t-0.341796875-0.2529296875t-0.1435546875-0.423828125q0-1.203125,1.298828125-1.203125q0.21875,0,0.5126953125,0.0615234375t0.4580078125,0.2529296875q0.751953125-0.314453125,1.3740234375-0.998046875t1.052734375-1.5244140625t0.669921875-1.763671875t0.2392578125-1.6748046875q0-0.90234375-0.2666015625-1.8388671875t-0.7724609375-1.736328125t-1.244140625-1.3466796875t-1.6953125-0.68359375q-0.24609375-0.02734375-0.5400390625-0.041015625l-0.587890625-0.02734375t-0.57421875-0.08203125t-0.4853515625-0.21875q0.109375,2.26953125,0.2802734375,4.525390625t0.4580078125,4.525390625q0.109375,0.109375,0.150390625,0.3212890625t0.068359375,0.451171875t0.02734375,0.4580078125l0,0.369140625q0,0.24609375-0.1640625,0.4033203125t-0.3896484375,0.2529296875t-0.478515625,0.123046875t-0.4443359375,0.02734375q-0.615234375,0-0.943359375-0.1640625t-0.46484375-0.478515625t-0.177734375-0.7177734375t-0.068359375-0.8818359375q-0.369140625-3.814453125-0.533203125-7.546875t-0.1640625-7.546875q0-0.451171875-0.0341796875-0.8681640625z M18.390625,44.12109375q0,1.681640625,0.109375,3.3701171875t0.19140625,3.3701171875q0.615234375-0.369140625,1.61328125-0.8681640625t1.9345703125-1.1005859375t1.6064453125-1.326171875t0.669921875-1.572265625q0-0.669921875-0.79296875-1.0185546875t-1.845703125-0.51953125t-2.0576171875-0.2119140625t-1.4287109375-0.123046875z M30.33533203125,58.900390625q0-0.9296875,0.2529296875-1.791015625t0.7587890625-1.5380859375t1.2646484375-1.080078125t1.7568359375-0.4033203125q0.615234375,0,1.3603515625,0.1845703125t1.4013671875,0.546875t1.09375,0.9228515625t0.4375,1.28515625q0,0.341796875-0.1162109375,0.51953125t-0.4716796875,0.177734375l-0.150390625-0.02734375q0.396484375,1.06640625,0.68359375,2.1875t0.560546875,2.2421875q0.109375,0.21875,0.1640625,0.3896484375t0.0546875,0.3349609375q0,0.21875-0.123046875,0.3623046875t-0.3212890625,0.2119140625t-0.41015625,0.095703125t-0.3759765625,0.02734375q-0.587890625,0-0.8818359375-0.205078125t-0.423828125-0.560546875t-0.1572265625-0.7998046875t-0.109375-0.8955078125q-0.1640625,0.533203125-0.4306640625,1.0390625t-0.62890625,0.9091796875t-0.8544921875,0.642578125t-1.107421875,0.2392578125q-0.90234375,0-1.517578125-0.51953125t-0.9912109375-1.2783203125t-0.546875-1.6201171875t-0.1708984375-1.599609375z M32.27673828125,58.708984375q0,0.505859375,0.068359375,1.06640625t0.2255859375,1.107421875t0.4033203125,1.0322265625t0.615234375,0.8544921875q0.669921875-0.724609375,0.9912109375-1.763671875t0.57421875-2.0029296875t0.57421875-1.654296875t0.9912109375-0.6904296875q0.423828125,0,0.7109375,0.150390625q-0.13671875-0.341796875-0.451171875-0.6630859375t-0.7041015625-0.587890625t-0.806640625-0.4375t-0.7861328125-0.1708984375q-0.109375,0-0.2529296875,0.0341796875t-0.2255859375,0.0068359375q-0.560546875,0.1640625-0.9228515625,0.5673828125t-0.587890625,0.9501953125t-0.3212890625,1.12109375t-0.095703125,1.080078125z M42.1843359375,55.072265625q0-0.560546875,0.1982421875-0.943359375t0.8408203125-0.3828125q0.24609375,0,0.615234375,0.0751953125t0.423828125,0.3759765625q0.13671875,0.806640625,0.150390625,1.75t0.095703125,1.77734375q0.314453125-0.615234375,0.806640625-1.326171875t1.12109375-1.3125t1.3671875-0.998046875t1.50390625-0.396484375q0.0546875,0,0.205078125,0.041015625t0.2802734375,0.1162109375t0.1572265625,0.1708984375t-0.150390625,0.177734375q-0.0546875,0.1640625-0.232421875,0.1982421875t-0.314453125,0.0341796875q-0.08203125,0-0.259765625-0.068359375q-1.01171875,0.533203125-1.72265625,1.44921875t-1.162109375,2.0302734375t-0.65625,2.3515625t-0.205078125,2.4130859375q0,0.587890625-0.2666015625,0.7109375t-0.8544921875,0.123046875q-0.314453125,0-0.6630859375-0.068359375t-0.4853515625-0.4375q-0.24609375-0.779296875-0.4033203125-1.791015625t-0.2392578125-2.0849609375t-0.1162109375-2.1123046875t-0.0341796875-1.873046875z M51.33998046875,50.21875q0-0.19140625,0.41015625-0.328125t0.9296875-0.2255859375t1.0048828125-0.1298828125t0.6630859375-0.068359375q0-0.369140625,0.02734375-0.7451171875t0.150390625-0.669921875t0.3896484375-0.4716796875t0.7451171875-0.177734375q0.396484375,0,0.6015625,0.095703125t0.4375,0.396484375q0.0546875,0.1640625,0.0546875,0.314453125l0,0.4580078125t-0.02734375,0.4716796875q0.505859375-0.0546875,1.0048828125-0.1298828125t1.0048828125-0.0751953125q0.369140625,0,0.505859375,0.013671875t0.2734375,0.328125q0.109375,0.314453125-0.2666015625,0.478515625t-0.90234375,0.24609375t-1.0458984375,0.123046875t-0.62890625,0.041015625q-0.1640625,2.3515625-0.3349609375,4.662109375t-0.1708984375,4.689453125q0,1.06640625,0.068359375,2.201171875t0.3828125,2.146484375q0.08203125,0.314453125,0.2734375,0.587890625t0.19140625,0.587890625q0,0.19140625-0.150390625,0.30078125t-0.3623046875,0.1845703125t-0.423828125,0.0888671875t-0.3486328125,0.013671875q-0.861328125,0-1.3125-0.642578125t-0.6494140625-1.5380859375t-0.2119140625-1.8388671875t-0.013671875-1.53125q0-1.203125,0.0478515625-2.4609375t0.1162109375-2.48828125t0.19140625-2.40625t0.287109375-2.1875q-0.478515625,0.0546875-0.9365234375,0.123046875t-0.9365234375,0.068359375q-0.109375,0-0.2939453125-0.013671875t-0.3486328125-0.068359375t-0.2802734375-0.150390625t-0.1162109375-0.2734375z"
            />
            <path
              fill="currentColor"
              d="M66.794453125,61.40234375q0-0.478515625,0.328125-0.6083984375t0.7109375-0.1298828125q0.669921875,0,1.134765625,0.6015625t0.8818359375,1.3193359375t0.8271484375,1.3193359375t0.970703125,0.6015625q0.423828125,0,0.7724609375-0.2119140625t0.6015625-0.533203125t0.3896484375-0.724609375t0.13671875-0.7998046875q0-1.0390625-0.4169921875-2.146484375t-1.06640625-2.283203125t-1.3740234375-2.40625t-1.3671875-2.501953125t-1.06640625-2.5908203125t-0.423828125-2.6591796875q0-2.009765625,1.203125-3.1171875t3.171875-1.107421875q0.669921875,0,1.353515625,0.19140625t1.2578125,0.57421875t0.9365234375,0.943359375t0.3623046875,1.3125q0,0.24609375-0.3623046875,0.3212890625t-0.5263671875,0.0751953125q-0.24609375,0-0.533203125-0.0615234375t-0.369140625-0.3349609375t-0.232421875-0.62890625t-0.3759765625-0.6630859375t-0.533203125-0.533203125t-0.6767578125-0.2255859375q-0.615234375,0-1.0458984375,0.2529296875t-0.697265625,0.6767578125t-0.396484375,0.9501953125t-0.1298828125,1.0869140625q0,1.3125,0.451171875,2.6455078125t1.12109375,2.65234375t1.4560546875,2.6044921875t1.4560546875,2.501953125t1.12109375,2.37890625t0.451171875,2.201171875q0,0.9296875-0.4375,1.572265625t-1.107421875,1.0458984375t-1.4833984375,0.587890625t-1.5927734375,0.1845703125q-0.833984375,0-1.708984375-0.3349609375t-1.572265625-0.9228515625t-1.1484375-1.3740234375t-0.451171875-1.7021484375z M78.53408203125,50.21875q0-0.19140625,0.41015625-0.328125t0.9296875-0.2255859375t1.0048828125-0.1298828125t0.6630859375-0.068359375q0-0.369140625,0.02734375-0.7451171875t0.150390625-0.669921875t0.3896484375-0.4716796875t0.7451171875-0.177734375q0.396484375,0,0.6015625,0.095703125t0.4375,0.396484375q0.0546875,0.1640625,0.0546875,0.314453125l0,0.4580078125t-0.02734375,0.4716796875q0.505859375-0.0546875,1.0048828125-0.1298828125t1.0048828125-0.0751953125q0.369140625,0,0.505859375,0.013671875t0.2734375,0.328125q0.109375,0.314453125-0.2666015625,0.478515625t-0.90234375,0.24609375t-1.0458984375,0.123046875t-0.62890625,0.041015625q-0.1640625,2.3515625-0.3349609375,4.662109375t-0.1708984375,4.689453125q0,1.06640625,0.068359375,2.201171875t0.3828125,2.146484375q0.08203125,0.314453125,0.2734375,0.587890625t0.19140625,0.587890625q0,0.19140625-0.150390625,0.30078125t-0.3623046875,0.1845703125t-0.423828125,0.0888671875t-0.3486328125,0.013671875q-0.861328125,0-1.3125-0.642578125t-0.6494140625-1.5380859375t-0.2119140625-1.8388671875t-0.013671875-1.53125q0-1.203125,0.0478515625-2.4609375t0.1162109375-2.48828125t0.19140625-2.40625t0.287109375-2.1875q-0.478515625,0.0546875-0.9365234375,0.123046875t-0.9365234375,0.068359375q-0.109375,0-0.2939453125-0.013671875t-0.3486328125-0.068359375t-0.2802734375-0.150390625t-0.1162109375-0.2734375z M88.9885546875,59.4609375q0-0.95703125,0.2119140625-2.255859375t0.7177734375-2.4609375t1.3330078125-1.9755859375t2.0849609375-0.8134765625q1.17578125,0,1.763671875,0.6767578125t0.587890625,1.8251953125q0,0.751953125-0.2802734375,1.6474609375t-0.7998046875,1.6953125t-1.23046875,1.3330078125t-1.5859375,0.533203125l-0.35546875-0.02734375q0,0.369140625,0.109375,0.9912109375t0.3212890625,1.2373046875t0.546875,1.080078125t0.8134765625,0.46484375q0.697265625,0,1.33984375-0.560546875t1.216796875-1.244140625t1.06640625-1.244140625t0.90234375-0.560546875q0.21875,0,0.451171875,0.068359375t0.259765625,0.3828125q0,0.19140625-0.1025390625,0.314453125t-0.1845703125,0.2734375q-0.423828125,0.724609375-0.9228515625,1.380859375t-1.1279296875,1.189453125t-1.3740234375,0.8408203125t-1.6474609375,0.3076171875q-1.17578125,0-1.955078125-0.4169921875t-1.2578125-1.12109375t-0.6904296875-1.626953125t-0.2119140625-1.9345703125z M91.4358203125,58.421875l0.3828125,0.341796875q0.2734375,0.24609375,0.546875,0.109375t0.4921875-0.4990234375t0.4033203125-0.8955078125t0.328125-1.09375t0.2119140625-1.09375t0.068359375-0.888671875l0-0.46484375t-0.041015625-0.4921875t-0.1435546875-0.3896484375t-0.3212890625-0.1982421875q-0.068359375-0.013671875-0.123046875-0.013671875q-0.46484375,0-0.79296875,0.587890625q-0.35546875,0.65625-0.57421875,1.5927734375t-0.314453125,1.9208984375t-0.123046875,1.4765625z M100.41373046875,53.185546875q0-0.13671875,0.2119140625-0.232421875t0.505859375-0.13671875t0.560546875-0.068359375t0.4033203125-0.02734375q0.0546875-0.369140625,0.1572265625-0.998046875t0.2529296875-1.3466796875t0.3759765625-1.4423828125t0.546875-1.3125t0.7587890625-0.9638671875t1.025390625-0.3759765625l-0.02734375,0q0.19140625-0.02734375,0.3759765625-0.041015625t0.3759765625-0.013671875q0.451171875,0,0.9775390625,0.177734375t0.9775390625,0.4990234375t0.7587890625,0.7724609375t0.3076171875,0.95703125q0,0.396484375-0.1982421875,0.8544921875t-0.6904296875,0.4580078125q-0.1640625,0-0.3349609375-0.08203125t-0.3212890625-0.177734375q0.0546875-0.314453125,0.0546875-0.62890625q0-0.1640625-0.013671875-0.314453125q-0.041015625-0.478515625-0.205078125-0.8408203125t-0.4716796875-0.57421875t-0.7314453125-0.1572265625q-0.560546875,0.08203125-0.8408203125,0.68359375t-0.3896484375,1.4287109375t-0.13671875,1.681640625t-0.109375,1.3876953125q0.642578125,0.0546875,1.0869140625,0.0546875l1.1142578125,0q0.109375,0,0.3759765625,0.013671875t0.51953125,0.0546875t0.451171875,0.1435546875t0.1982421875,0.2666015625q0,0.13671875-0.109375,0.2392578125t-0.2666015625,0.1435546875t-0.328125,0.0546875t-0.2802734375,0.013671875q-0.478515625,0-0.8134765625-0.041015625t-0.642578125-0.0751953125t-0.642578125-0.0341796875t-0.7861328125,0.095703125q-0.13671875,1.517578125-0.21875,3.0078125t-0.08203125,3.0078125q0,2.37890625,0.150390625,4.662109375t0.546875,4.634765625q0.0546875,0.21875,0.095703125,0.4990234375t0.041015625,0.5400390625q0,0.24609375-0.150390625,0.4033203125t-0.3759765625,0.2255859375t-0.46484375,0.095703125t-0.4306640625,0.02734375q-0.779296875,0-1.09375-0.2392578125t-0.451171875-0.9638671875q-0.341796875-1.927734375-0.4375-3.8896484375t-0.095703125-3.9580078125q0-1.955078125,0.1435546875-3.9033203125t0.3623046875-3.8759765625q-0.109375,0-0.3759765625,0.013671875t-0.533203125,0t-0.46484375-0.095703125t-0.1982421875-0.287109375z M110.4990625,58.900390625q0-0.9296875,0.2529296875-1.791015625t0.7587890625-1.5380859375t1.2646484375-1.080078125t1.7568359375-0.4033203125q0.615234375,0,1.3603515625,0.1845703125t1.4013671875,0.546875t1.09375,0.9228515625t0.4375,1.28515625q0,0.341796875-0.1162109375,0.51953125t-0.4716796875,0.177734375l-0.150390625-0.02734375q0.396484375,1.06640625,0.68359375,2.1875t0.560546875,2.2421875q0.109375,0.21875,0.1640625,0.3896484375t0.0546875,0.3349609375q0,0.21875-0.123046875,0.3623046875t-0.3212890625,0.2119140625t-0.41015625,0.095703125t-0.3759765625,0.02734375q-0.587890625,0-0.8818359375-0.205078125t-0.423828125-0.560546875t-0.1572265625-0.7998046875t-0.109375-0.8955078125q-0.1640625,0.533203125-0.4306640625,1.0390625t-0.62890625,0.9091796875t-0.8544921875,0.642578125t-1.107421875,0.2392578125q-0.90234375,0-1.517578125-0.51953125t-0.9912109375-1.2783203125t-0.546875-1.6201171875t-0.1708984375-1.599609375z M112.44046875,58.708984375q0,0.505859375,0.068359375,1.06640625t0.2255859375,1.107421875t0.4033203125,1.0322265625t0.615234375,0.8544921875q0.669921875-0.724609375,0.9912109375-1.763671875t0.57421875-2.0029296875t0.57421875-1.654296875t0.9912109375-0.6904296875q0.423828125,0,0.7109375,0.150390625q-0.13671875-0.341796875-0.451171875-0.6630859375t-0.7041015625-0.587890625t-0.806640625-0.4375t-0.7861328125-0.1708984375q-0.109375,0-0.2529296875,0.0341796875t-0.2255859375,0.0068359375q-0.560546875,0.1640625-0.9228515625,0.5673828125t-0.587890625,0.9501953125t-0.3212890625,1.12109375t-0.095703125,1.080078125z M122.36173828125,58.96875l0-0.396484375q0-0.4921875,0.02734375-0.9296875q0.02734375-0.615234375,0.02734375-1.01171875q0-0.21875,0.02734375-0.4990234375t0.13671875-0.4443359375q0.13671875-0.13671875,0.3212890625-0.2802734375t0.4033203125-0.1435546875q0.697265625,0,1.09375,0.1572265625t0.423828125,0.6494140625l0.0546875,0.423828125q0.24609375-0.587890625,0.65625-1.4560546875t0.9501953125-1.654296875t1.216796875-1.33984375t1.4287109375-0.5537109375q0.697265625,0,1.1484375,0.65625t0.7177734375,1.6748046875t0.3759765625,2.26953125t0.150390625,2.4541015625t0.0546875,2.1943359375t0.095703125,1.4970703125q0.0546875,0.423828125,0.1845703125,0.8955078125t0.1298828125,0.8681640625q0,0.109375-0.1572265625,0.2119140625t-0.3349609375,0.1708984375t-0.3623046875,0.109375t-0.2666015625,0.041015625q-0.533203125,0-0.7587890625-0.7998046875t-0.2802734375-2.0029296875t-0.0546875-2.6044921875t-0.095703125-2.6044921875t-0.3896484375-2.0029296875t-0.9365234375-0.8271484375q-0.587890625,0-1.216796875,0.7587890625t-1.080078125,2.0166015625q-0.4375,1.2578125-0.6015625,2.857421875q-0.0546875,0.505859375-0.0546875,1.01171875q0,1.107421875,0.232421875,2.21484375q0.02734375,0.19140625-0.1572265625,0.287109375t-0.4580078125,0.150390625t-0.5537109375,0.068359375t-0.4306640625,0.013671875q-0.533203125,0-0.8544921875-0.3759765625t-0.4990234375-0.9638671875t-0.2392578125-1.3193359375t-0.0751953125-1.4423828125z M134.7849609375,55.373046875q0-0.560546875,0.328125-0.9638671875t0.7998046875-0.65625t1.0322265625-0.3759765625t1.0390625-0.123046875q0.369140625,0,0.984375,0.109375t1.203125,0.328125t1.0185546875,0.57421875t0.4306640625,0.833984375q0,0.21875-0.1640625,0.3896484375t-0.341796875,0.1708984375q-0.369140625,0-0.669921875-0.2392578125t-0.6220703125-0.505859375t-0.7041015625-0.505859375t-0.861328125-0.2392578125t-0.8681640625,0.3076171875t-0.3896484375,0.8134765625q0,0.833984375,0.587890625,1.6337890625t1.2919921875,1.681640625t1.2919921875,1.8525390625t0.587890625,2.146484375q0,0.505859375-0.2119140625,0.8544921875t-0.560546875,0.5673828125t-0.7861328125,0.3349609375t-0.84765625,0.1162109375q-0.451171875,0-1.052734375-0.2119140625t-1.134765625-0.560546875t-0.8955078125-0.8134765625t-0.3623046875-0.970703125q0-0.24609375,0.3486328125-0.314453125t0.5126953125-0.068359375q0.08203125,0,0.2529296875,0.0546875t0.3349609375,0.123046875t0.2939453125,0.150390625t0.1025390625,0.177734375q0.13671875,0.1640625,0.4169921875,0.4853515625t0.560546875,0.51953125t0.4921875,0.1435546875t0.2119140625-0.615234375q0-1.06640625-0.57421875-1.9619140625t-1.2509765625-1.75t-1.2509765625-1.6953125t-0.57421875-1.7978515625z M144.41912109375,64.451171875l0.287109375-0.341796875q-0.0546875-2.296875-0.123046875-4.580078125t-0.068359375-4.5390625q0-2.802734375,0.3349609375-5.4208984375t0.6630859375-5.3662109375q0.02734375-0.1640625,0.1572265625-0.2666015625t0.3212890625-0.1708984375t0.3896484375-0.095703125t0.3623046875-0.02734375q0.21875,0,0.546875,0.08203125t0.65625,0.478515625q0,0.13671875,0.0205078125,0.2392578125t0.0205078125,0.2392578125q0,1.0390625-0.2802734375,2.228515625t-0.3759765625,2.283203125q-0.109375,1.33984375-0.150390625,2.65234375t-0.041015625,2.666015625l0.02734375,1.203125q0.2734375-0.341796875,0.779296875-0.875t1.09375-1.0322265625t1.17578125-0.8544921875t1.06640625-0.35546875q0.724609375,0,1.0048828125,0.41015625t0.2802734375,1.080078125q0,0.615234375-0.2666015625,1.28515625t-0.697265625,1.3056640625t-0.9775390625,1.1416015625t-1.080078125,0.751953125q0.724609375,0.90234375,1.4833984375,1.72265625t1.6611328125,1.544921875l0,0.314453125q-0.02734375,0.13671875-0.1708984375,0.205078125t-0.314453125,0.109375t-0.3349609375,0.0615234375t-0.2734375,0.0205078125q-0.669921875,0-1.2919921875-0.396484375t-1.162109375-0.970703125t-1.0185546875-1.216796875t-0.875-1.12109375q0.08203125,1.572265625,0.1845703125,3.1376953125t0.1025390625,3.1376953125q0,0.19140625-0.1708984375,0.3212890625t-0.396484375,0.1982421875t-0.4580078125,0.095703125t-0.3828125,0.02734375q-0.806640625,0-1.1416015625-0.2939453125t-0.5673828125-1.0185546875z M147.22185546875,58.01171875q0.341796875,0,0.8134765625-0.2939453125t0.9775390625-0.7314453125t0.943359375-0.9228515625t0.7041015625-0.9228515625t0.2666015625-0.7041015625t-0.369140625-0.2392578125q-0.13671875,0-0.560546875,0.396484375t-0.943359375,0.970703125t-1.0390625,1.244140625t-0.79296875,1.203125z M155.488828125,58.572265625q0-1.2578125,0.2939453125-2.4677734375t0.4990234375-2.4130859375q0.0546875-0.314453125,0.4306640625-0.3896484375t0.6357421875-0.0751953125q0.451171875,0,0.724609375,0.13671875q0.109375,0.0546875,0.205078125,0.123046875t0.095703125,0.177734375q0,1.17578125-0.2802734375,2.296875t-0.2802734375,2.37890625q0,0.423828125,0.0615234375,0.7998046875t0.1162109375,0.7451171875l0.08203125,0.396484375q0,0.109375,0.013671875,0.19140625t0.041015625,0.19140625q0,0.24609375-0.3486328125,0.3349609375t-0.6083984375,0.0888671875q-0.396484375,0-0.7314453125-0.1572265625t-0.5263671875-0.5400390625l-0.19140625-0.396484375q-0.1640625-0.314453125-0.1640625-0.7041015625t-0.068359375-0.7177734375z M156.363828125,50.341796875l0-0.259765625q0-0.642578125,0.3212890625-1.1484375t0.9638671875-0.505859375q0.08203125,0,0.1572265625,0.013671875t0.1572265625,0.013671875q0.1640625,0.02734375,0.4306640625,0.1298828125t0.2666015625,0.3212890625l0,0.02734375q-0.0546875,0.109375-0.068359375,0.2255859375t-0.068359375,0.1982421875l0.02734375-0.02734375q-0.1640625,0.423828125-0.2666015625,0.68359375t-0.2255859375,0.4169921875t-0.3076171875,0.2255859375t-0.5263671875,0.068359375q-0.0546875,0-0.19140625-0.013671875t-0.2939453125-0.0546875t-0.2666015625-0.109375t-0.109375-0.205078125z"
            />
          </Logo>
        </NextLink>
        <ColorSwitcher />
      </Content>
    </Container>
  )
}

const Container = styled.header`
  display: flex;
  align-items: center;
  position: sticky;
  top: ${(p) => p.theme.spacings.xs}px;
  width: 100%;
  max-width: ${(p) => p.theme.spacings.largeContainer}px;
  height: 75px;
  margin: 0 auto ${(p) => p.theme.spacings.lg}px auto;
  box-shadow: rgba(0, 0, 0, 0.15) 0px 5px 15px 0px;
  border-radius: 20px;

  visibility: ${(p) => (p.isNavbarHidden ? 'hidden' : 'visible')};
  transform: ${(p) =>
    p.isNavbarHidden
      ? `translateY(-75px) translateY(-${p.theme.spacings.xs}px) translateZ(0) scale(1)`
      : 'translateY(0) translateZ(0) scale(1)'};
  backface-visibility: hidden;
  transition-property: transform, visibility, height;
  transition-duration: 0.15s;
  transition-timing-function: ease-in-out;

  z-index: ${(p) => p.theme.zIndexes.navbar};

  &::before {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background-color: var(--navbar);
    border-radius: 20px;
    z-index: -1;
  }

  @media (max-width: ${(p) => p.theme.breakpoints.xl}) {
    width: 95%;
  }
`

const Content = styled.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  padding: 0 ${(p) => p.theme.spacings.md}px;

  @media (max-width: ${(p) => p.theme.breakpoints.md}) {
    padding: 0 ${(p) => p.theme.spacings['2xs']}px;
  }
`

const Logo = styled.svg`
  height: 105px;
  width: 180px;
`
